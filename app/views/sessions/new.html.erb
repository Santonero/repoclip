<%= turbo_frame_tag "login" do %>
<% if response.status == 422 %>
<div class="lcontainer col-4 col-xs-7 col-sm-6 col-md-5 col-lg-4 p-fixed bg-primary">
<% else %>
<div class="lcontainer col-4 col-xs-7 col-sm-6 col-md-5 col-lg-4 p-fixed bg-primary logslide">
<% end %>
  <div onclick="rmLogin(this);" class= "p-absolute btn btn-clear cross"></div>
  <% if response.status == 422 %>
    <div class="toast toast-error c-hand" onclick="rmErr(this)"><button class="btn btn-clear float-right"></button>Invalid username or password.</div>
  <% end %>
  <h1 class="text-center">Log In</h1>
  <div class="column col-7 col-xs-11 col-sm-9 col-md-8 col-lg-8 col-mx-auto">
    <%= form_with url: session_path, data: { controller: "login-redir", action: "turbo:submit-end->login-redir#next" } do |form| %>
      <div class="form-group">
        <%= form.label :account, "Username or Email", class: "form-label" %>
        <%= form.text_field :account, class: "form-input" %>
      </div>

      <div class="form-group">
        <%= form.label :password, class: "form-label" %>
        <%= form.password_field :password, class: "form-input", placeholder: "Password" %>
      </div>

      <div class="form-group">
        <%= form.submit "Log In", class: "btn input-group-btn" %>
      </div>
    <% end %>
    <%= link_to "Forgot your password?", new_password_reset_path, "data-turbo-frame": "_top", class: "text-light" %>
  </div>
</div>
<script>function rmErr(x){x.remove();};function rmLogin(x){x.parentElement.remove();}</script>
<% end %>
