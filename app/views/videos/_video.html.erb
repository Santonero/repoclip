<div class="container grid-xl" id ="vidcont">
<div style="width:99.5%;">
<video
    id="my-video"
    class="video-js vjs-fluid vjs-big-play-centered vjs-show-big-play-button-on-pause"
    controls
    preload="auto"
    width="640"
    height="264"
    poster="<%= url_for(@video.thumbnail) %>"
    data-setup='{"playbackRates": [0.25,0.5,0.75,1,1.25,1.5,1.75,2]}'
  >
    <source src=<%= url_for(@video.clip) %> type="video/mp4" />
    <source src=<%= url_for(@video.clip) %> type="video/webm" />
  </video>
  <div class="vidtitle my-2 placeholder" style="margin-left:1px;display:inline-block">
    <strong><%= video.title %></strong>
  </div>
  <div class="vidate mb-2 placeholder" style="font-size:14px;margin-left:1px;display:table">Published on <%= video.created_at.strftime("%b %d, %Y") %></div>
  <div>
    <p class="videscr placeholder" style="border-radius:12px;padding:12px;background-color:#f7f8f9;">
      <%= video.description %>
    </p>
  </div>
  <div id="vidact" style="display: flex; justify-content: flex-end">
    <%= link_to content_tag(:i,'',class:"icon icon-cross"), video_path(@video), data: { turbo_method: :delete, turbo_confirm: "Are you sure ?"} , class: "btn btn-primary btn-action btn-lg s-circle mx-1 tooltip tooltip-left", "data-tooltip":"Delete Video" %>
    <%= link_to content_tag(:i,'',class:"icon icon-share"),'',onclick:"const sh=document.getElementById('share');navigator.clipboard.writeText('#{video_url(@video)}');sh.dataset.tooltip='Link copied to clipboard';sh.classList.add('clicked');return false;",onmouseleave:"const sh=document.getElementById('share');if(sh.classList.contains('clicked')){setTimeout(blurIt,4000);sh.classList.remove('clicked');}function blurIt(){sh.blur();setTimeout(() => {sh.dataset.tooltip='Share';},200);}", class: "btn btn-primary btn-action btn-lg s-circle tooltip tooltip-left",id:"share", "data-tooltip":"Share" %>
    <%= link_to content_tag(:i,'',class:"icon icon-edit"), edit_video_path(@video),onclick:"const e=document.getElementById('editm');const media=document.querySelector('video');media.pause();e.classList.add('active');return false;", class: "btn btn-primary btn-action btn-lg s-circle mx-1 tooltip",style: "background-image:linear-gradient(to right,#9933ff,#5755d9);", "data-tooltip":"Edit" %>
  </div>
  <div class="modal" id="editm">
    <%= link_to "",video_path, onclick:"const media=document.querySelector('video');const e=document.getElementById('editm');e.classList.remove('active');media.play();return false;", class:"modal-overlay" %>
    <div class="modal-container">
    <div class="modal-header">
      <%= link_to "",video_path, onclick:"const media=document.querySelector('video');const e=document.getElementById('editm');e.classList.remove('active');media.play();return false;", class:"btn btn-clear float-right" %>
      <div class="modal-title h5">Edit</div>
    </div>
    <div class="modal-body">
      <div class="content">
      <%= turbo_frame_tag "add", src: edit_video_path %>
      </div>
    </div>
    <div class="modal-footer">
    </div>
    </div>
  </div>
</div>
</div>
